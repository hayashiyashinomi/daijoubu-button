<style>
/* 画面中央配置 */
.center-wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
}

/* ダークモード対応 */
@media (prefers-color-scheme: dark) {
  body { background-color: #111; color: #fff; }
  #message { color: #fff !important; }
}

/* フラッシュ風メッセージ */
.copy-alert {
  font-size: 14px;
  margin-top: 8px;
  color: #10b981; /* green-500 */
}
</style>

<div class="center-wrapper px-4">
  <h1 class="text-4xl font-bold mb-6">大丈夫ボタン</h1>

  <p id="message" class="text-2xl font-semibold mb-8">
    ボタンを押すと「大丈夫」が表示されます
  </p>

  <div class="flex gap-4 justify-center mb-2">
    <button id="ok-button"
      class="w-40 px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg shadow">
      大丈夫ボタン
    </button>

    <button id="copy-button"
      class="w-40 px-4 py-3 bg-gray-700 hover:bg-gray-800 text-white rounded-lg shadow">
      コピーする
    </button>
  </div>

  <div id="copy-status" class="copy-alert" style="display:none;">コピーしました！</div>
</div>

<script>
document.addEventListener('turbo:load', () => {
  const messages = [
    "大丈夫",
    "Everything will be okay",
    "Está todo bien",
    "Ça va aller",
    "괜찮아",
    "Все будет хорошо",
    "Tudo bem",
    "จะไม่เป็นไร",
    "Tudo vai dar certo"
  ];

  const msg = document.getElementById('message');
  const okBtn = document.getElementById('ok-button');
  const copyBtn = document.getElementById('copy-button');
  const copyStatus = document.getElementById('copy-status');
  let timer = null;

  okBtn.addEventListener('click', () => {
    msg.textContent = messages[Math.floor(Math.random() * messages.length)];
  });

  copyBtn.addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(msg.textContent);

      copyStatus.style.display = "block";
      clearTimeout(timer);
      timer = setTimeout(() => {
        copyStatus.style.display = "none";
      }, 1200);
    } catch {
      alert("コピーに失敗しました");
    }
  });
});
</script>
